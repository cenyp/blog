# npm vs yarn vs pnpm
https://juejin.cn/post/7433427781928386571

https://juejin.cn/post/7127295203177676837

## npm-v2/v3
1. 广泛使用
2. v2 版本有依赖地域问题
```
node_modules
├── A
│   └── node_modules
│       └── B
│           └── node_modules
│               └── C
└── D
    └── node_modules
        └── B
            └── node_modules
                └── C
```
3. v3 选择了平铺，即如下，但存在依赖冲突和幽灵依赖问题

## 依赖冲突解决
对于版本不兼容的依赖树，npm的处理是先检查是否版本兼容，如果版本兼容就不重复安装，如果和之前的的传递依赖包版本不兼容，那么就将该依赖包安装至当前引用的包的node_modules下
```
|————mod-A@1.0
|————mod-B@1.0
|————mod-C@1.0
    |————mod-B@2.0
```
https://segmentfault.com/a/1190000037598190#item-2-4

# yarn
也是平铺结构，为替代 npmv2 而生
1. 并行安装，缓存支持
2. 存在依赖冲突和幽灵依赖问题

# pnpm
1. 严格的依赖树结构
2. 基于内容寻址的全局存储
3. 无幽灵依赖
4. 节省磁盘空间

